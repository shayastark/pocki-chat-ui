[Skip to main content](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#content-area)

[Privy Docs home page![light logo](https://mintcdn.com/privy-c2af3412/Ih_Fo3QYM486gzWq/logo/privy-logo-light.png?fit=max&auto=format&n=Ih_Fo3QYM486gzWq&q=85&s=bd297b680ace8a13db4d9ce977f93180)![dark logo](https://mintcdn.com/privy-c2af3412/Ih_Fo3QYM486gzWq/logo/privy-logo-dark.png?fit=max&auto=format&n=Ih_Fo3QYM486gzWq&q=85&s=24d83970695ab19a1803a2eb00dbea4e)](https://docs.privy.io/)

Search...

⌘K

Search...

Navigation

Login methods

Wallet

[Welcome](https://docs.privy.io/welcome) [Basics](https://docs.privy.io/basics/get-started/about) [Authentication](https://docs.privy.io/authentication/overview) [Wallets](https://docs.privy.io/wallets/overview) [Connectors](https://docs.privy.io/wallets/connectors/overview) [Policies & controls](https://docs.privy.io/controls/overview) [Transaction management](https://docs.privy.io/transaction-management/overview) [User management](https://docs.privy.io/user-management/overview) [Security](https://docs.privy.io/security/overview) [Recipes](https://docs.privy.io/recipes/overview) [API reference](https://docs.privy.io/api-reference/introduction)

For users who already have wallets, Privy supports signing in with Ethereum (SIWE) or Solana (SIWS). With this flow, users who are already onchain can bring their existing wallet to your app, verify ownership of assets, and take onchain actions.

Enable wallet authentication in the [Privy\\
Dashboard](https://dashboard.privy.io/apps?page=login-methods) before implementing this feature.

- React

- React Native

- Swift

- Android

- Flutter


To authenticate a user via an Ethereum wallet ( [SIWE](https://eips.ethereum.org/EIPS/eip-4361)) without Privy UIs, use the React SDK’s `useLoginWithSiwe` hook.

In order to use Privy’s login with wallet flow, users must actively have a  wallet
connected to your app from which you can request signatures.

## [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#generate-siwe-message)  Generate SIWE message

Report incorrect code

Copy

Ask AI

```
generateSiweMessage({ address: string, chainId: `eip155:${number}`, disableSignup?: boolean }) => Promise<string>
```

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#parameters)  Parameters

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-address)

address

string

required

EIP-55 checksum-encoded wallet address performing the signing.

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-chain-id)

chainId

\`eip155:${number}\`

required

EIP-155 Chain ID to which the session is bound (in CAIP-2 format), e.g. `eip155:1`.

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-disable-signup)

disableSignup

boolean

Whether to disable signup for this login flow.

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#returns)  Returns

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-message)

message

string

A SIWE message that can be signed by the wallet.

## [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#sign-the-siwe-message)  Sign the SIWE message

Request an EIP-191 `personal_sign` signature for the `message` returned by `generateSiweMessage` from the connected wallet.

Report incorrect code

Copy

Ask AI

```
import { useWallets } from '@privy-io/react-auth';

const { wallets } = useWallets();

const signature = await wallets[0].sign(message);
```

## [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#login-with-siwe)  Login with SIWE

Report incorrect code

Copy

Ask AI

```
loginWithSiwe({ signature: string, message: string, disableSignup?: boolean }) => Promise<User>
```

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#parameters-2)  Parameters

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-signature)

signature

string

required

The EIP-191 signature corresponding to the message.

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-message-1)

message

string

required

The EIP-4361 message returned by `generateSiweMessage`.

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-disable-signup-1)

disableSignup

boolean

Whether to disable signup for the login flow.

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#returns-2)  Returns

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-user)

User

User

The authenticated user.

## [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#usage)  Usage

Report incorrect code

Copy

Ask AI

```
import { useLoginWithSiwe, useWallets } from '@privy-io/react-auth';

export function LoginWithWalletButton() {
  const { generateSiweMessage, loginWithSiwe } = useLoginWithSiwe();
  const { wallets } = useWallets();

  const handleLogin = async () => {
    if (!wallets?.length) return;
    const activeWallet = wallets[0];

    const message = await generateSiweMessage({
      address: activeWallet.address,
      chainId: 'eip155:1',
    });

    const signature = await activeWallet.sign(message);
    await loginWithSiwe({ signature, message });
  };

  return (
    <button onClick={handleLogin}>Log in with wallet</button>
  );
}
```

## [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#callbacks)  Callbacks

You can optionally pass callbacks into `useLoginWithSiwe` to run custom logic after a successful login, or to handle errors that occur during the flow.

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#oncomplete)  `onComplete`

Report incorrect code

Copy

Ask AI

```
onComplete?: (params: {
  user: User;
  isNewUser: boolean;
  wasAlreadyAuthenticated: boolean;
  loginMethod: LoginMethod | null;
  loginAccount: LinkedAccountWithMetadata | null;
}) => void
```

#### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#parameters-3)  Parameters

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-user)

user

User

The user object corresponding to the authenticated user.

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-is-new-user)

isNewUser

boolean

Whether the user is a new user or an existing user.

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-was-already-authenticated)

wasAlreadyAuthenticated

boolean

Whether the user was already authenticated when the flow ran.

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-login-method)

loginMethod

LoginMethod \| null

The method used by the user to login (if applicable).

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-login-account)

loginAccount

LinkedAccountWithMetadata \| null

The account corresponding to the login method.

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#onerror)  `onError`

Report incorrect code

Copy

Ask AI

```
onError?: (error: PrivyErrorCode) => void
```

#### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#parameters-4)  Parameters

[​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet#param-error)

error

PrivyErrorCode

The error that occurred during the login flow.

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#usage-2)  Usage

Report incorrect code

Copy

Ask AI

```
import { useLoginWithSiwe } from '@privy-io/react-auth';

export function SiweWithCallbacks() {
  const { generateSiweMessage, loginWithSiwe } = useLoginWithSiwe({
    onComplete: ({
      user,
      isNewUser,
      wasAlreadyAuthenticated,
      loginMethod,
      loginAccount,
    }) => {
       // show a toast, update form errors, etc...
    },
    onError: (error) => {
       // show a toast, update form errors, etc...
    },
  });

  // ... use generateSiweMessage and loginWithSiwe as shown above
  return null;
}
```

## [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#tracking-login-flow-state)  Tracking login flow state

The `state` variable returned from `useLoginWithSiwe` will always be one of the following values.

Report incorrect code

Copy

Ask AI

```
type SiweFlowState =
  | { status: 'initial' }
  | { status: 'error'; error: Error | null }
  | { status: 'generating-message' }
  | { status: 'awaiting-signature' }
  | { status: 'submitting-signature' }
  | { status: 'done' };
```

### [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#sign-in-with-ledger-on-solana)  Sign in with Ledger on Solana

Currently, Ledger Solana hardware wallets only support transaction signatures, not the message signatures required
for Sign-In With Solana (SIWS) authentication. In order to authenticate with a Solana Ledger wallet,
you must mount the `useSolanaLedgerPlugin` hook **inside** your `PrivyProvider`.

**Critical:** The `useSolanaLedgerPlugin` hook **must be placed inside** a component that is
wrapped by `PrivyProvider`. If the hook is placed alongside or outside the `PrivyProvider`, it
will not function correctly.

Report incorrect code

Copy

Ask AI

```
import {PrivyProvider} from '@privy-io/react-auth';
import {useSolanaLedgerPlugin} from '@privy-io/react-auth/solana';

function SolanaLedgerSetup() {
  // This hook MUST be called inside a component wrapped by PrivyProvider
  useSolanaLedgerPlugin();
  return null;
}

export default function App() {
  return (
    <PrivyProvider appId="your-app-id" config={{...}}>
      <SolanaLedgerSetup />
      {/* Your app components */}
    </PrivyProvider>
  );
}
```

Then, when you attempt to login with a Phantom Solana wallet, you will be prompted to indicate whether you are signing with a Ledger wallet,
which will initiate a separate SIWS flow wherein which a no-op transaction will be signed and used for verification.

## [​](https://docs.privy.io/authentication/user-authentication/login-methods/wallet\#resources)  Resources

[**React starter repo** \\
\\
Get started with React and Privy.](https://github.com/privy-io/examples/tree/main/privy-react-starter) [**Next.js starter repo** \\
\\
Get started with Next.js and Privy.](https://github.com/privy-io/examples/tree/main/privy-next-starter) [**Whitelabel starter repo** \\
\\
Get started with a whitelabel Privy integration.](https://github.com/privy-io/examples/tree/main/privy-react-whitelabel-starter)

[SMS and WhatsApp](https://docs.privy.io/authentication/user-authentication/login-methods/sms-whatsapp) [Passkey](https://docs.privy.io/authentication/user-authentication/login-methods/passkey)

⌘I