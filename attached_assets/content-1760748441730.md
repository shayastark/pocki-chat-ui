[Skip to content](https://docs.xmtp.org/agents/content-types/replies#vocs-content)

Search...

[![Logo](https://docs.xmtp.org/logomark-dark-purple.png)![Logo](https://docs.xmtp.org/logomark-light-purple.png)](https://docs.xmtp.org/)

[![Logo](https://docs.xmtp.org/logomark-dark-purple.png)![Logo](https://docs.xmtp.org/logomark-light-purple.png)](https://docs.xmtp.org/)

Build agents
Chevron Down

Menu

Replies

On this page
Chevron Right

Use the reply content type to support quote replies with your agent. A reply is a method to directly respond to a specific message in a conversation. Users can select and reply to a particular message instead of sending a new one.

## Install the package

In some SDKs, the `ReplyCodec` is already included in the SDK. If not, you can install the package using the following command:

npmyarnpnpm

Terminal

npm

```vocs_Code

npm i @xmtp/content-type-reply
```

## Configure the content type

After importing the package, you can register the codec.

Node

```vocs_Code

import { ReplyCodec } from '@xmtp/content-type-reply';
// Create the XMTP agent
const agent = await Agent.create(signer, {
  env: 'dev',
  codecs: [new ReplyCodec()],
});
```

## Send a reply

Once you've created a reply, you can send it. Replies are represented as objects with two keys:

- `reference`: ID of the message being replied to

- `content`: String representation of the reply


Node

```vocs_Code

import { ContentTypeText } from '@xmtp/content-type-text';
import { ContentTypeReply } from '@xmtp/content-type-reply';
import type { Reply } from '@xmtp/content-type-reply';

const reply: Reply = {
  reference: someMessageID,
  contentType: ContentTypeText,
  content: 'I concur',
};

await ctx.sendTextReply(reply);
```

## Receive a reply

Node

```vocs_Code

agent.on('reply', async (ctx) => {
  const message = ctx.message;
  const replyContent = message.content;
  console.log(`New reply: ${replyContent.content}`);
});
```

## Filter a reply

Now that you can send a reply, you need a way to receive a reply. For example:

Node

```vocs_Code

if (ctx.usesCodec(ReplyCodec)) {
  // We've got a reply.
  const reply: Reply = ctx.message.content;
}
```