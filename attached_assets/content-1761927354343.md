[Skip to main content](https://docs.base.org/mini-apps/core-concepts/context#content-area)

[Base Documentation home page![light logo](https://mintcdn.com/base-a060aa97/nnaK9UEOgZ1ZSTpu/logo/logo_light.svg?fit=max&auto=format&n=nnaK9UEOgZ1ZSTpu&q=85&s=0b270f2aae45e381865e49183be66829)![dark logo](https://mintcdn.com/base-a060aa97/nnaK9UEOgZ1ZSTpu/logo/logo_dark.svg?fit=max&auto=format&n=nnaK9UEOgZ1ZSTpu&q=85&s=a53ba31459651eba4826c89d864cdf12)](https://docs.base.org/)

Search...

Ctrl K

Search...

Navigation

Core Concepts

Mini App Context

[Get Started](https://docs.base.org/get-started/base) [Base Chain](https://docs.base.org/base-chain/quickstart/why-base) [Base Account](https://docs.base.org/base-account/overview/what-is-base-account) [Base App](https://docs.base.org/base-app/introduction/beta-faq) [Mini Apps](https://docs.base.org/mini-apps/quickstart/migrate-existing-apps) [OnchainKit](https://docs.base.org/onchainkit/latest/getting-started/overview) [Cookbook](https://docs.base.org/cookbook/onboard-any-user) [Showcase](https://docs.base.org/showcase) [Learn](https://docs.base.org/learn/welcome)

MiniAppContextTypes.ts

Report incorrect code

Copy

Ask AI

```
export type MiniAppPlatformType = 'web' | 'mobile';

export type MiniAppContext = {
  user: {
    fid: number;
    username?: string;
    displayName?: string;
    pfpUrl?: string;
  };
  location?: MiniAppLocationContext;
  client: {
    platformType?: MiniAppPlatformType;
    clientFid: number;
    added: boolean;
    safeAreaInsets?: SafeAreaInsets;
    notificationDetails?: MiniAppNotificationDetails;
  };
  features?: {
    haptics: boolean;
    cameraAndMicrophoneAccess?: boolean;
  };
};

```

MiniAppContextTypes.ts

Report incorrect code

Copy

Ask AI

```
export type MiniAppPlatformType = 'web' | 'mobile';

export type MiniAppContext = {
  user: {
    fid: number;
    username?: string;
    displayName?: string;
    pfpUrl?: string;
  };
  location?: MiniAppLocationContext;
  client: {
    platformType?: MiniAppPlatformType;
    clientFid: number;
    added: boolean;
    safeAreaInsets?: SafeAreaInsets;
    notificationDetails?: MiniAppNotificationDetails;
  };
  features?: {
    haptics: boolean;
    cameraAndMicrophoneAccess?: boolean;
  };
};

```

When your app is opened as a mini app, `sdk.context` provides 4 data objects:

- `user`: User profile data
- `location`: Where the mini app was opened
- `client`: Host platform (e.g. the Base app or another Farcaster client) and device data
- `features`: Availability and state of features in the current client

## [​](https://docs.base.org/mini-apps/core-concepts/context\#implementation)  Implementation

1. Install and import `@farcaster/miniapp-sdk`
2. Check if opened as a mini app using `sdk.isInMiniApp();`
3. If in a mini app, load the context object using `sdk.context`

In the example below we detect if the app was opened as a mini app, and if so, we return the user’s username, fid, display name, and profile image.

app/profile/page.tsx

Report incorrect code

Copy

Ask AI

```
"use client";
import { sdk } from "@farcaster/miniapp-sdk";
import { useEffect, useState } from "react";

export default function Profile() {
  const [user, setUser] = useState(null);
  const [isInMiniApp, setIsInMiniApp] = useState(false);

  useEffect(() => {
    const loadUserData = async () => {
      try {
        // Check if we're in a Mini App
        const miniAppStatus = await sdk.isInMiniApp();
        setIsInMiniApp(miniAppStatus);

        if (miniAppStatus) {
          // Get context and extract user info
          const context = await sdk.context;
          setUser(context.user);
        }
      } catch (error) {
        console.error("Error loading user data:", error);
      }
    };

    loadUserData();
  }, []);

  // Show message if not in Mini App
  if (!isInMiniApp) {
    return (
      <div>
        <p>Please open this app in a Farcaster or Base client to see your profile.</p>
      </div>
    );
  }

  // Show user information
  if (user) {
    return (
      <div>
        <h2>Welcome, {user.displayName || user.username}!</h2>
        <p>FID: {user.fid}</p>
        <p>Username: @{user.username}</p>
        {user.pfpUrl && (
          <img
            src={user.pfpUrl}
            alt="Profile"
            width={64}
            height={64}
            style={{ borderRadius: '50%' }}
          />
        )}
      </div>
    );
  }

  return <div>Loading user profile...</div>;
}

```

## [​](https://docs.base.org/mini-apps/core-concepts/context\#schema)  Schema

### [​](https://docs.base.org/mini-apps/core-concepts/context\#user-object)  User Object

Contains the user’s profile information. This data shouldn’t be used for authentication or sensitive actions because its passed by the application.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-fid)

fid

number

required

Unique Farcaster identifier for the user.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-username)

username

string

Handle without @ symbol.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-display-name)

displayName

string

User’s chosen display name.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-pfp-url)

pfpUrl

string

Profile picture URL.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-bio)

bio

string

User’s biography text.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-location)

location

object

User’s location information.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-location-place-id)

location.placeId

string

Google Places ID.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-location-description)

location.description

string

Human-readable location description.

user.json

Report incorrect code

Copy

Ask AI

```
{
  "fid": 6841,
  "username": "deodad",
  "displayName": "Tony D'Addeo",
  "pfpUrl": "https://i.imgur.com/dMoIan7.jpg",
  "bio": "Building @warpcast and @farcaster",
  "location": {
    "placeId": "ChIJLwPMoJm1RIYRetVp1EtGm10",
    "description": "Austin, TX, USA"
  }
}

```

### [​](https://docs.base.org/mini-apps/core-concepts/context\#location-object)  Location Object

Contains information about the context from which the Mini App was launched. This helps you understand how users discovered and accessed your app.**Location Types:**

- **`cast_embed`**: Launched from a cast where your app is embedded
- **`cast_share`**: Launched when a user shared a cast to your app
- **`notification`**: Launched from a notification triggered by your app
- **`launcher`**: Launched directly from the client app catalog
- **`channel`**: Launched from within a specific Farcaster channel
- **`open_miniapp`**: Launched from another Mini App

#### [​](https://docs.base.org/mini-apps/core-concepts/context\#castembedlocationcontext)  CastEmbedLocationContext

[​](https://docs.base.org/mini-apps/core-concepts/context#param-type)

type

'cast\_embed'

required

Indicates the Mini App was launched from a cast where it is an embed.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-embed)

embed

string

required

The embed URL.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-cast)

cast

MiniAppCast

required

Cast information containing the embed.

cast\_embed.json

Report incorrect code

Copy

Ask AI

```
{
  "type": "cast_embed",
  "embed": "https://myapp.example.com",
  "cast": {
    "author": {
      "fid": 3621,
      "username": "alice",
      "displayName": "Alice",
      "pfpUrl": "https://example.com/alice.jpg"
    },
    "hash": "0xa2fbef8c8e4d00d8f84ff45f9763b8bae2c5c544",
    "timestamp": 1749160866000,
    "text": "Check out this awesome mini app!",
    "embeds": ["https://myapp.example.com"],
    "channelKey": "farcaster"
  }
}

```

#### [​](https://docs.base.org/mini-apps/core-concepts/context\#castsharelocationcontext)  CastShareLocationContext

[​](https://docs.base.org/mini-apps/core-concepts/context#param-type-1)

type

'cast\_share'

required

Indicates the Mini App was launched when a user shared a cast to your app.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-cast-1)

cast

MiniAppCast

required

The cast that was shared to your app.

#### [​](https://docs.base.org/mini-apps/core-concepts/context\#notificationlocationcontext)  NotificationLocationContext

[​](https://docs.base.org/mini-apps/core-concepts/context#param-type-2)

type

'notification'

required

Indicates the Mini App was launched from a notification.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-notification)

notification

object

required

Notification details.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-notification-notification-id)

notification.notificationId

string

required

Unique notification identifier.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-notification-title)

notification.title

string

required

Notification title.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-notification-body)

notification.body

string

required

Notification body text.

notification.json

Report incorrect code

Copy

Ask AI

```
{
  "type": "notification",
  "notification": {
    "notificationId": "f7e9ebaf-92f0-43b9-a410-ad8c24f3333b",
    "title": "Yoinked!",
    "body": "horsefacts captured the flag from you."
  }
}

```

#### [​](https://docs.base.org/mini-apps/core-concepts/context\#launcherlocationcontext)  LauncherLocationContext

[​](https://docs.base.org/mini-apps/core-concepts/context#param-type-3)

type

'launcher'

required

Indicates the Mini App was launched directly by the client app outside of a context.

#### [​](https://docs.base.org/mini-apps/core-concepts/context\#channellocationcontext)  ChannelLocationContext

[​](https://docs.base.org/mini-apps/core-concepts/context#param-type-4)

type

'channel'

required

Indicates the Mini App was launched from within a specific Farcaster channel.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-channel)

channel

object

required

Channel details.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-channel-key)

channel.key

string

required

Channel key identifier.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-channel-name)

channel.name

string

required

Channel name.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-channel-image-url)

channel.imageUrl

string

Channel profile image URL.

#### [​](https://docs.base.org/mini-apps/core-concepts/context\#openminiapplocationcontext)  OpenMiniAppLocationContext

[​](https://docs.base.org/mini-apps/core-concepts/context#param-type-5)

type

'open\_miniapp'

required

Indicates the Mini App was launched from another Mini App.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-referrer-domain)

referrerDomain

string

required

The domain of the Mini App that opened the current app.

### [​](https://docs.base.org/mini-apps/core-concepts/context\#client-object)  Client Object

Contains details about the Farcaster client running your Mini App. This data should be considered untrusted.

#### [​](https://docs.base.org/mini-apps/core-concepts/context\#clientcontext)  ClientContext

[​](https://docs.base.org/mini-apps/core-concepts/context#param-platform-type)

platformType

'web' \| 'mobile'

Platform where the app is running.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-client-fid)

clientFid

number

required

Self-reported FID of the client (e.g., 9152 for Farcaster).

[​](https://docs.base.org/mini-apps/core-concepts/context#param-added)

added

boolean

required

Whether the user has added your Mini App to their client.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-safe-area-insets)

safeAreaInsets

object

Screen insets to avoid navigation elements that obscure the view.

Show properties

[​](https://docs.base.org/mini-apps/core-concepts/context#param-top)

top

number

required

Top safe area inset in pixels.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-bottom)

bottom

number

required

Bottom safe area inset in pixels.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-left)

left

number

required

Left safe area inset in pixels.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-right)

right

number

required

Right safe area inset in pixels.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-notification-details)

notificationDetails

object

Notification configuration if enabled.

Show properties

[​](https://docs.base.org/mini-apps/core-concepts/context#param-url)

url

string

required

Endpoint for sending notifications.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-token)

token

string

required

Authentication token for notifications.

client.json

Report incorrect code

Copy

Ask AI

```
{
  "platformType": "mobile",
  "clientFid": 9152,
  "added": true,
  "safeAreaInsets": {
    "top": 0,
    "bottom": 20,
    "left": 0,
    "right": 0
  },
  "notificationDetails": {
    "url": "https://api.farcaster.xyz/v1/frame-notifications",
    "token": "a05059ef2415c67b08ecceb539201cbc6"
  }
}

```

### [​](https://docs.base.org/mini-apps/core-concepts/context\#features-object)  Features Object

Indicates which platform features are available and their current state in the client.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-haptics)

haptics

boolean

required

Whether haptic feedback is supported on the current platform.

[​](https://docs.base.org/mini-apps/core-concepts/context#param-camera-and-microphone-access)

cameraAndMicrophoneAccess

boolean

Whether camera and microphone permissions have been granted and stored for this mini app.

features.json

Report incorrect code

Copy

Ask AI

```
{
  "haptics": true,
  "cameraAndMicrophoneAccess": true
}

```

For more detailed capability detection, use the `sdk.getCapabilities()` method which returns specific SDK methods supported by the host.

Was this page helpful?

YesNo

[Suggest edits](https://github.com/base/docs/edit/master/docs/mini-apps/core-concepts/context.mdx) [Raise issue](https://github.com/base/docs/issues/new?title=Issue%20on%20docs&body=Path:%20/mini-apps/core-concepts/context)

[Manifest](https://docs.base.org/mini-apps/core-concepts/manifest) [Embeds & Previews](https://docs.base.org/mini-apps/core-concepts/embeds-and-previews)

Ctrl+I

Assistant

Responses are generated using AI and may contain mistakes.