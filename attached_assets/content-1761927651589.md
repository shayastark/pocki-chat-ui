[Skip to main content](https://docs.base.org/mini-apps/core-concepts/authentication#content-area)

[Base Documentation home page![light logo](https://mintcdn.com/base-a060aa97/nnaK9UEOgZ1ZSTpu/logo/logo_light.svg?fit=max&auto=format&n=nnaK9UEOgZ1ZSTpu&q=85&s=0b270f2aae45e381865e49183be66829)![dark logo](https://mintcdn.com/base-a060aa97/nnaK9UEOgZ1ZSTpu/logo/logo_dark.svg?fit=max&auto=format&n=nnaK9UEOgZ1ZSTpu&q=85&s=a53ba31459651eba4826c89d864cdf12)](https://docs.base.org/)

Search...

Ctrl K

Search...

Navigation

Core Concepts

Authentication

[Get Started](https://docs.base.org/get-started/base) [Base Chain](https://docs.base.org/base-chain/quickstart/why-base) [Base Account](https://docs.base.org/base-account/overview/what-is-base-account) [Base App](https://docs.base.org/base-app/introduction/beta-faq) [Mini Apps](https://docs.base.org/mini-apps/quickstart/migrate-existing-apps) [OnchainKit](https://docs.base.org/onchainkit/latest/getting-started/overview) [Cookbook](https://docs.base.org/cookbook/onboard-any-user) [Showcase](https://docs.base.org/showcase) [Learn](https://docs.base.org/learn/welcome)

On this page

- [Implementation](https://docs.base.org/mini-apps/core-concepts/authentication#implementation)
- [Step 1: Frontend Authentication](https://docs.base.org/mini-apps/core-concepts/authentication#step-1%3A-frontend-authentication)
- [Step 2: Backend Verification](https://docs.base.org/mini-apps/core-concepts/authentication#step-2%3A-backend-verification)
- [Schema](https://docs.base.org/mini-apps/core-concepts/authentication#schema)
- [JWT Payload](https://docs.base.org/mini-apps/core-concepts/authentication#jwt-payload)

When Quick Auth is called:

- The user authenticates with a signature
- The SDK returns a JWT that your backend verifies to confirm the user’s identity
- The backend returns trusted data that can be used for sensitive actions

This differs from the [Context API](https://docs.base.org/mini-apps/core-concepts/context), which provides instant access to user information without authentication but cannot be trusted for sensitive operations.

## [​](https://docs.base.org/mini-apps/core-concepts/authentication\#implementation)  Implementation

### [​](https://docs.base.org/mini-apps/core-concepts/authentication\#step-1%3A-frontend-authentication)  Step 1: Frontend Authentication

This code authenticates the user with Quick Auth, stores the JWT in memory, and uses it to verify the user’s identity with your backend.

App.tsx

Report incorrect code

Copy

Ask AI

```
import { useState } from "react";
import { sdk } from "@farcaster/miniapp-sdk";

export function App() {
 const [token, setToken] = useState<string | null>(null);
 const [userData, setUserData] = useState<{ fid: number} | null>(null);

 async function signIn() {
   try {
     const { token } = await sdk.quickAuth.getToken();
     setToken(token);

     // Use the token to authenticate the user and fetch authenticated user data
     const response = await sdk.quickAuth.fetch(`${BACKEND_ORIGIN}/auth`, {
       headers: { "Authorization": `Bearer ${token}` }
     });

     const data = await response.json();
     setUserData(data);
   } catch (error) {
     console.error("Authentication failed:", error);
   }
 }

 function signOut() {
   setToken(null);
   setUserData(null);
 }

 if (!token) {
   return <button onClick={signIn}>Sign In</button>;
 }

 return (
   <div>
     <p>Authenticated as FID: {userData?.fid}</p>
     <button onClick={signOut}>Sign Out</button>
   </div>
 );
}

```

### [​](https://docs.base.org/mini-apps/core-concepts/authentication\#step-2%3A-backend-verification)  Step 2: Backend Verification

Install the Quick Auth client:

Report incorrect code

Copy

Ask AI

```
npm install @farcaster/quick-auth

```

**Quick Auth Client** is the SDK that initiates the authentication flow in your application.**Quick Auth Server** is Farcaster’s service that handles signature verification and issues JWTs.When a user authenticates, the Quick Auth Server verifies their signature and issues a JWT. Your backend verifies this JWT using the `@farcaster/quick-auth` package.

route.tsx

Report incorrect code

Copy

Ask AI

```
// app/api/auth/route.ts
import { createClient, Errors } from '@farcaster/quick-auth';
import { NextRequest, NextResponse } from 'next/server';

const domain = 'your-domain.com'; // Must match your mini app's deployment domain
const client = createClient();

// This endpoint returns the authenticated user's FID
export async function GET(request: NextRequest) {
  const authorization = request.headers.get('Authorization');
  if (!authorization?.startsWith('Bearer ')) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
  }

  const token = authorization.split(' ')[1];

  try {
    const payload = await client.verifyJwt({ token, domain });

    return NextResponse.json({
      fid: payload.sub,
    });
  } catch (e) {
    if (e instanceof Errors.InvalidTokenError) {
      return NextResponse.json({ error: 'Invalid token' }, { status: 401 });
    }
    throw e;
  }
}

```

## [​](https://docs.base.org/mini-apps/core-concepts/authentication\#schema)  Schema

### [​](https://docs.base.org/mini-apps/core-concepts/authentication\#jwt-payload)  JWT Payload

Report incorrect code

Copy

Ask AI

```
{
  "iat": 1747764819,
  "iss": "https://auth.farcaster.xyz",
  "exp": 1747768419,
  "sub": 6841,
  "aud": "your-domain.com"
}

```

Payload fields:

[​](https://docs.base.org/mini-apps/core-concepts/authentication#param-iat)

iat

number

Issued at timestamp

[​](https://docs.base.org/mini-apps/core-concepts/authentication#param-iss)

iss

string

Quick Auth Server that issued the JWT

[​](https://docs.base.org/mini-apps/core-concepts/authentication#param-exp)

exp

number

Expiration timestamp (1 hour from issuance)

[​](https://docs.base.org/mini-apps/core-concepts/authentication#param-sub)

sub

number

User’s Farcaster ID (FID)

[​](https://docs.base.org/mini-apps/core-concepts/authentication#param-aud)

aud

string

Your mini app’s domain

[**useAuthenticate** \\
\\
use Minikit’s useAuthenticate hook to authenticate users.](https://docs.base.org/onchainkit/latest/components/minikit/hooks/useAuthenticate) [**Context** \\
\\
Understand how context is used in mini apps.](https://docs.base.org/mini-apps/core-concepts/context)

Was this page helpful?

YesNo

[Suggest edits](https://github.com/base/docs/edit/master/docs/mini-apps/core-concepts/authentication.mdx) [Raise issue](https://github.com/base/docs/issues/new?title=Issue%20on%20docs&body=Path:%20/mini-apps/core-concepts/authentication)

[Notifications](https://docs.base.org/mini-apps/core-concepts/notifications) [Navigation](https://docs.base.org/mini-apps/core-concepts/navigation)

Ctrl+I

Assistant

Responses are generated using AI and may contain mistakes.